<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>商品详情 - 电子产品商城</title>
    <link rel="stylesheet" href="style.css?v=7">
</head>
<body>
    <!-- 导航栏 -->
    <header class="nav-bar">
        <div class="container">
            <a href="index.html" class="brand-logo">ElectroShop</a>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html">首页</a></li>
                <li><a href="#categories">分类</a></li>
                <li><a href="cart.html">购物车</a></li>
                <li><a href="order.html">订单</a></li>
                <li id="loginLink"><a href="login.html">登录/注册</a></li>
            </ul>
        </div>
    </header>

    <main class="container">
        <div class="product-detail">
            <img src="https://via.placeholder.com/400x400" alt="商品大图">
            <div class="detail-info">
                <h1>旗舰手机 X1 Pro</h1>
                <p class="price">¥4599</p>
                <p>库存: 有货</p>
                <p>商品编号: X1P-2026</p>
                <p>品牌: Electro</p>
                <div style="margin: 20px 0;">
                    <button id="addCartBtn" data-id="101">加入购物车</button>
                    <button>立即购买</button>
                </div>
                <div>
                    <h3>商品描述</h3>
                    <p>旗舰级性能，超长续航，专业影像系统，为您带来前所未有的使用体验。</p>
                    <ul>
                        <li>6.7 英寸 AMOLED 屏幕</li>
                        <li>高通骁龙 8 Gen 3 处理器</li>
                        <li>5000mAh 大电池</li>
                        <li>1 亿像素主摄</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">© 2026 ElectroShop. 保留所有权利。</div>
    </footer>
    <script src="scripts.js"></script>
    <script>
        // 加载商品详情
        document.addEventListener('DOMContentLoaded', function() {
            // 渲染导航栏
            renderNav();
            
            // 从 URL 获取商品 ID
            const urlParams = new URLSearchParams(window.location.search);
            const productId = parseInt(urlParams.get('id')) || 101;
            
            // 从 scripts.js 中的 demoProducts 数组查找商品
            const product = demoProducts.find(p => p.id === productId);
            
            if (product) {
                // 更新图片
                const img = document.querySelector('.product-detail img');
                if (img) {
                    img.src = product.img;
                    img.alt = product.name;
                }
                
                // 更新商品信息
                const h1 = document.querySelector('.detail-info h1');
                if (h1) h1.textContent = product.name;
                
                const price = document.querySelector('.detail-info .price');
                if (price) price.textContent = `¥${product.price}`;
                
                // 更新按钮的 data-id
                const addCartBtn = document.getElementById('addCartBtn');
                if (addCartBtn) {
                    addCartBtn.setAttribute('data-id', product.id);
                    // 绑定加入购物车事件
                    addCartBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        addToCart(product.id, 1);
                    });
                }
            }
        });
    </script>
</body>
</html>
